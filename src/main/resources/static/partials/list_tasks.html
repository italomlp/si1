<div ng-controller="TaskListController">
    <div class="row">
        <div class="col-sm-10">
            <div class="input-group">
                <input type="text" class="form-control" ng-model="taskList.name">
                <div class="input-group-btn">
                    <a class="btn btn-default" ng-click="saveList()"><i class="fa fa-save"></i></a>
                </div>
            </div>
        </div>
        <div class="col-sm-2" align="right">
            <a class="btn btn-info" href="#/tasks_lists/{{taskList.id}}"><i class="fa fa-arrow-left"></i> Voltar</a>
        </div>
    </div>

    <div ng-show="tasks.length">
        <div class="row">
            <div class="col-sm-12" align="right">
                <div class="btn-group">
                    <a href="#/task_lists/create_task/{{taskList.id}}" data-toggle="modal" data-target="#createTask" class="btn btn-primary">Adicionar tarefa</a>
                    <a class="btn btn-danger" data-toggle="modal" data-target="#clearConfirm">Remover todas tarefas</a>

                    <!-- Modal -->
                    <div align="left" class="modal fade" id="clearConfirm">
                        <div class="modal-dialog">
                            <div class="modal-content">

                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h4 class="modal-title">Limpar</h4>
                                </div> <!-- Close modal header -->

                                <div class="modal-body">
                                    <p>Deseja limpar a lista de tarefas?</p>
                                    <div class="alert alert-danger">
                                        <strong>Cuidado!</strong> Essa ação não pode ser desfeita!
                                    </div> <!-- Close alert -->
                                </div> <!-- Close modal body -->

                                <div class="modal-footer">
                                    <button type="reset" class="btn btn-danger" ng-click="removeAllTasks()" data-dismiss="modal">Limpar lista</button>
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                                </div> <!-- Close modal footer -->

                            </div> <!-- Close modal content -->
                        </div> <!-- Close modal dialog -->
                    </div> <!-- Close modal -->

                </div>
            </div>
        </div>

        <div class="progress">
            <div class="progress-bar progress-bar-striped" aria-valuemin="0" aria-valuemax="100" style="width:{{taskList.donePercent}}%">
                {{taskList.donePercent}}%
            </div> <!-- Close progress-bar -->
        </div> <!-- Close progress -->

        <div class="table-responsive">
            <table class="table table-hover table-striped">
                <thead>
                <tr>
                    <th>Tarefa</th>
                    <th width="50">Feita</th>
                    <th width="50">Remover</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="task in tasks">
                    <th><a href="#/task_lists/create_task/{{taskList.id}}/{{task.id}}">{{task.name}}</a></th>
                    <th align="center"><input type="checkbox" disabled ng-model="task.done"></th>
                    <th align="center"><a ng-click="removeTask(task)"><i class="fa fa-close"></i></a></th>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div ng-hide="tasks.length">
        <p>Não há tarefas. Adicione uma clicando no botão abaixo.</p>
        <a href="#/task_lists/create_task/{{taskList.id}}" data-toggle="modal" data-target="#createTask" class="btn btn-primary">Adicionar tarefa</a>
    </div>
</div>